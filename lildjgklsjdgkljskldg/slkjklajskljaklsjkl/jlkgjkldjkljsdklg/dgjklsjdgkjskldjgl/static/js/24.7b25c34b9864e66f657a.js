webpackJsonp([24],{"3jlh":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px","label-position":"top"}},[o("el-form-item",{attrs:{disabled:"",prop:"roundID",label:"当前兑换轮次"}},[o("el-input",{attrs:{disabled:"",placeholder:e.placeholder1,type:"number"}})],1),e._v(" "),o("el-form-item",{attrs:{prop:"total",label:"总量",rules:{required:!0,message:"total不能为空"}}},[o("el-input",{attrs:{placeholder:e.placeholder2,type:"number"},model:{value:e.form.total,callback:function(t){e.$set(e.form,"total",t)},expression:"form.total"}},[o("template",{slot:"append"},[e._v("WIN")])],2)],1),e._v(" "),o("el-form-item",{attrs:{disabled:"",prop:"current",label:"已兑换"}},[o("el-input",{attrs:{disabled:"",placeholder:e.placeholder3,type:"number"}},[o("template",{slot:"append"},[e._v("WIN")])],2)],1),e._v(" "),o("el-form-item",{attrs:{prop:"prop",label:"兑换比例",rules:{required:!0,message:"prop不能为空"}}},[o("el-input",{attrs:{placeholder:e.placeholder4,type:"number"},model:{value:e.form.prop,callback:function(t){e.$set(e.form,"prop",t)},expression:"form.prop"}},[o("template",{slot:"append"},[e._v("WIN")])],2)],1),e._v(" "),o("el-form-item",{staticClass:"bottomButton"},[o("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("追加新轮次")])],1)],1)],1)},staticRenderFns:[]};var l=o("VU/8")({data:function(){return{placeholder1:"",placeholder2:"",placeholder3:"",placeholder4:"",form:{total:"",prop:""}}},mounted:function(){this.init()},methods:{init:function(){var e=this;this.Global.swapState.methods.swapInfo().call(function(t,o){t||(e.placeholder1=o.roundID,e.placeholder2=e.web3.utils.fromWei(o.total,"ether"),e.placeholder3=e.web3.utils.fromWei(o.current,"ether"),e.placeholder4=e.web3.utils.fromWei(o.prop,"szabo"))})},submit:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;e.Global.swap.methods.OwnerUpdateSwapInfo(e.web3.utils.toWei(e.form.total,"ether"),e.web3.utils.toWei(e.form.prop,"szabo")).send({from:e.address}).on("transactionHash",function(t){e.$refs.form.resetFields(),e.$notify({title:"成功",message:"交易已发送",type:"success"})}).on("error",function(t){e.$notify.error({title:"错误",message:"交易失败"})}).on("receipt",function(t){e.init(),e.$notify({title:"成功",message:"设置成功",type:"success"})})})}}},r,!1,function(e){o("cWeA")},null,null);t.default=l.exports},cWeA:function(e,t){}});